CREATE TABLE AVC_AUTHOR (
  AVC_AUT_ID   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 ),
  AVC_AUT_NAME VARCHAR(255),
  PRIMARY KEY (AVC_AUT_ID)
);


CREATE TABLE AVC_CLASS (
  AVC_CLA_ID             BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 ),
  AVC_CLA_CANONICAL_NAME VARCHAR(255),
  PRIMARY KEY (AVC_CLA_ID)
);


CREATE TABLE AVC_METHOD (
  AVC_MET_ID        BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 ),
  AVC_MET_NAME      VARCHAR(255),
  AVC_MET_SIGNATURE VARCHAR(255),
  AVC_MET_CLASSID   BIGINT,
  PRIMARY KEY (AVC_MET_ID)
);


CREATE TABLE AVC_REVISION (
  AVC_REV_ID       BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 ),
  AVC_REV_COMMENT  VARCHAR(255),
  AVC_REV_DATE     DATE,
  AVC_REV_CLASSID  BIGINT,
  AVC_REV_METHODID BIGINT,
  PRIMARY KEY (AVC_REV_ID)
);


ALTER TABLE AVC_METHOD
ADD CONSTRAINT FK_AVC_MET_CLASSID
FOREIGN KEY (AVC_MET_CLASSID)
REFERENCES AVC_CLASS;


ALTER TABLE AVC_REVISION
ADD CONSTRAINT FK_AVC_REV_CLASSID
FOREIGN KEY (AVC_REV_CLASSID)
REFERENCES AVC_CLASS;


ALTER TABLE AVC_REVISION
ADD CONSTRAINT FK_AVC_REV_METHODID
FOREIGN KEY (AVC_REV_METHODID)
REFERENCES AVC_METHOD;

